<!DOCTYPE html>
<html lang="en" class="yui-overrride">
<head>
    <meta charset="utf-8">
    <title>lib/assets/javascripts/up/modal.js.coffee - up.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1 class="blue-main-title">up.js</h1>
        </div>
        <div class="yui3-u-1-4 version project-version">
            API Docs for: 0.0
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/up.browser.html">up.browser</a></li>
                                <li><a href="../classes/up.bus.html">up.bus</a></li>
                                <li><a href="../classes/up.flow.html">up.flow</a></li>
                                <li><a href="../classes/up.form.html">up.form</a></li>
                                <li><a href="../classes/up.history.html">up.history</a></li>
                                <li><a href="../classes/up.link.html">up.link</a></li>
                                <li><a href="../classes/up.magic.html">up.magic</a></li>
                                <li><a href="../classes/up.marker.html">up.marker</a></li>
                                <li><a href="../classes/up.modal.html">up.modal</a></li>
                                <li><a href="../classes/up.motion.html">up.motion</a></li>
                                <li><a href="../classes/up.navigation.html">up.navigation</a></li>
                                <li><a href="../classes/up.popup.html">up.popup</a></li>
                                <li><a href="../classes/up.tooltip.html">up.tooltip</a></li>
                                <li><a href="../classes/up.util.html">up.util</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/up.html">up</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: lib/assets/javascripts/up/modal.js.coffee</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        ###*
                        Modal dialogs.
                            
                        @class up.modal 
                        ###
                        up.modal = (-&gt;
                        
                          u = up.util
                        
                          config =
                            width: &#x27;auto&#x27;
                            height: &#x27;auto&#x27;
                            openAnimation: &#x27;fade-in&#x27;
                            closeAnimation: &#x27;fade-out&#x27;
                            closeLabel: &#x27;X&#x27;
                            template: (config) -&gt;
                              &quot;&quot;&quot;
                              &lt;div class=&quot;up-modal&quot;&gt;
                                &lt;div class=&quot;up-modal-dialog&quot;&gt;
                                  &lt;div class=&quot;up-modal-close&quot; up-close&gt;#{config.closeLabel}&lt;/div&gt;
                                  &lt;div class=&quot;up-modal-content&quot;&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &quot;&quot;&quot;
                          
                          ###*
                          @method up.modal.defaults
                          @param {Number} options.width
                          @param {Number} options.height
                          @param {String|Function} options.template
                          @param {String} options.closeLabel
                          @param {String} options.openAnimation
                          @param {String} options.closeAnimation
                          ###
                          defaults = (options) -&gt;
                            u.extend(config, options)
                            
                          templateHtml = -&gt;
                            template = config.template
                            if u.isFunction(template)
                              template(config)
                            else
                              template
                        
                          createHiddenModal = (selector, width, height, sticky) -&gt;
                            $modal = $(templateHtml())
                            $modal.attr(&#x27;up-sticky&#x27;, &#x27;&#x27;) if sticky
                            $modal.attr(&#x27;up-previous-url&#x27;, up.browser.url())
                            $modal.attr(&#x27;up-previous-title&#x27;, document.title)
                            $dialog = $modal.find(&#x27;.up-modal-dialog&#x27;)
                            $dialog.css(&#x27;width&#x27;, width) if u.isPresent(width)
                            $dialog.css(&#x27;height&#x27;, height) if u.isPresent(height)
                            $content = $dialog.find(&#x27;.up-modal-content&#x27;)
                            $placeholder = u.$createElementFromSelector(selector)
                            $placeholder.appendTo($content)
                            $modal.appendTo(document.body)
                            $modal.hide()
                            $modal
                        
                          updated = ($modal, animation) -&gt;
                            $modal.show()
                            up.animate($modal, animation)
                        
                          ###*
                          Opens a modal overlay.
                          
                          @method up.modal.open
                          @param {Element|jQuery|String} elementOrSelector
                          @param {Number} [options.width]
                          @param {Number} [options.height]
                          @param {String} [options.origin=&#x27;bottom-right&#x27;]
                          @param {String} [options.animation]
                          @param {Boolean} [options.sticky=false]
                            If set to &#x60;true&#x60;, the modal remains
                            open even if the page changes in the background.
                          @param {Object} [options.history=true]
                          ###
                          open = (linkOrSelector, options) -&gt;
                            $link = $(linkOrSelector)
                        
                            options = u.options(options)
                            url = u.option($link.attr(&#x27;href&#x27;))
                            selector = u.option(options.target, $link.attr(&#x27;up-modal&#x27;), &#x27;body&#x27;)
                            width = u.option(options.width, $link.attr(&#x27;up-width&#x27;), config.width)
                            height = u.option(options.height, $link.attr(&#x27;up-height&#x27;), config.height)
                            animation = u.option(options.animation, $link.attr(&#x27;up-animation&#x27;), config.openAnimation)
                            sticky = u.option(options.sticky, $link.is(&#x27;[up-sticky]&#x27;))
                            history = u.option(options.history, $link.attr(&#x27;up-history&#x27;), true)
                        
                            close()
                            $modal = createHiddenModal(selector, width, height, sticky)
                        
                            up.replace(selector, url,
                              history: history
                              insert: -&gt; updated($modal, animation)
                            )
                        
                          ###*
                          Returns the source URL for the fragment displayed
                          in the current modal overlay, or &#x60;undefined&#x60; if no
                          modal is open.
                          
                          @method up.modal.source
                          @return {String}
                            the source URL
                          ###
                          source = -&gt;
                            $modal = $(&#x27;.up-modal&#x27;)
                            unless $modal.is(&#x27;.up-destroying&#x27;)
                              $modal.find(&#x27;[up-source]&#x27;).attr(&#x27;up-source&#x27;)
                        
                          ###*
                          Closes a currently opened modal overlay.
                          Does nothing if no modal is currently open.
                          
                          @method up.modal.close
                          @param {Object} options
                            See options for {{#crossLink &quot;up.motion/up.animate&quot;}}{{/crossLink}}.
                          ###
                          close = (options) -&gt;
                            $modal = $(&#x27;.up-modal&#x27;)
                            if $modal.length
                              options = u.options(options, 
                                animation: config.closeAnimation,
                                url: $modal.attr(&#x27;up-previous-url&#x27;)
                                title: $modal.attr(&#x27;up-previous-title&#x27;)
                              )
                              up.destroy($modal, options)
                        
                          autoclose = -&gt;
                            unless $(&#x27;.up-modal&#x27;).is(&#x27;[up-sticky]&#x27;)
                              close()
                        
                          ###*
                          @method a[up-modal]
                          @example
                              &lt;a href=&quot;/decks&quot; up-modal=&quot;.deck_list&quot;&gt;Switch deck&lt;/a&gt;
                          @example
                              &lt;a href=&quot;/settings&quot; up-modal=&quot;.options&quot; up-sticky&gt;Settings&lt;/a&gt;  
                          ###
                          up.on(&#x27;click&#x27;, &#x27;a[up-modal]&#x27;, (event, $link) -&gt;
                            event.preventDefault()
                            if $link.is(&#x27;.up-current&#x27;)
                              close()
                            else
                              open($link)
                          )
                        
                          # Close the modal when someone clicks outside the dialog
                          # (but not on a modal opener).
                          up.on(&#x27;click&#x27;, &#x27;body&#x27;, (event, $body) -&gt;
                            $target = $(event.target)
                            unless $target.closest(&#x27;.up-dialog&#x27;).length || $target.closest(&#x27;[up-modal]&#x27;).length
                              close()
                          )
                        
                          up.bus.on(&#x27;fragment:ready&#x27;, ($fragment) -&gt;
                            unless $fragment.closest(&#x27;.up-modal&#x27;).length
                              autoclose()
                          )
                        
                          # Close the pop-up overlay when the user presses ESC.
                          up.magic.onEscape(-&gt; close())
                        
                          ###*
                          @method [up-close]
                          ###
                          up.on(&#x27;click&#x27;, &#x27;[up-close]&#x27;, (event, $element) -&gt;
                            if $element.closest(&#x27;.up-modal&#x27;)
                              close()
                          )
                        
                          open: open
                          close: close
                          source: source
                          defaults: defaults
                        
                        )()
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>
</script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
